<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>ç¦¾èŠ’æ–°å±¿è¡¨ç›˜å•†åº—</title>
    <script src="js/jszip.min.js"></script>
    <style>
        /* åŸºæœ¬æ ·å¼ */
         /* ä¿®æ”¹å®¹å™¨å®½åº¦å’Œå¸ƒå±€ */
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 15px;
        min-width: 320px; /* ç¡®ä¿æœ€å°å®½åº¦ */
    }
    
    /* ä¿®æ”¹å“åº”å¼è®¾è®¡éƒ¨åˆ† */
    @media (max-width: 768px) {
        .container {
            padding: 10px;
            zoom: 0.9; /* è½»å¾®ç¼©æ”¾ */
        }
        
        .header {
            margin-bottom: 20px;
        }
        
        .header h1 {
            font-size: 24px;
        }
        
        .filter-toolbar {
            flex-direction: column;
            align-items: stretch;
            gap: 12px;
            padding: 15px;
        }
        
        .search-container {
            max-width: 100%;
        }
        
        .filter-group {
            min-width: 100%;
        }
        
        .filter-select, #search-input {
            font-size: 14px;
            padding: 12px 15px;
        }
        
        #search-input {
            padding-left: 40px;
        }
        
        .app-grid {
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 12px;
        }
        
        .app-card {
            padding: 12px;
        }
        
        .app-icon {
            width: 65px;
            height: 65px;
        }
        
        .app-name {
            font-size: 13px;
            height: 34px;
        }
        
        .footer-nav {
            padding: 8px 0;
        }
        
        .nav-link {
            padding: 6px 10px;
        }
        
        .nav-icon {
            font-size: 20px;
        }
        
        .modal-content {
            width: 95%;
            max-width: 380px;
            padding: 20px;
        }
        
        .btn {
            padding: 12px 18px;
            font-size: 15px;
        }
        
        /* ä¼˜åŒ–ç¤¾åŒºé¡µé¢ */
        #community-page > div:first-child {
            padding: 25px 15px;
            margin-bottom: 20px;
        }
        
        .login-section {
            padding: 15px;
        }
        
        .form-input {
            padding: 12px;
            font-size: 15px;
        }
    }
    
    @media (max-width: 480px) {
        .container {
            padding: 8px;
            zoom: 0.85;
        }
        
        .header h1 {
            font-size: 20px;
        }
        
        .app-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .app-card {
            padding: 10px;
        }
        
        .app-icon {
            width: 55px;
            height: 55px;
        }
        
        .app-name {
            font-size: 12px;
            height: 32px;
        }
        
        .filter-toolbar {
            padding: 12px;
        }
        
        .btn-secondary {
            padding: 10px 15px;
            font-size: 14px;
        }
        
        /* ä¼˜åŒ–åˆ—è¡¨è§†å›¾åœ¨æ‰‹æœºä¸Šçš„æ˜¾ç¤º */
        .app-list-item {
            flex-direction: row;
            align-items: flex-start;
        }
        
        .app-list-item .app-icon {
            width: 50px;
            height: 50px;
            margin-bottom: 0;
        }
        
        /* ç¡®ä¿æŒ‰é’®åœ¨æ‰‹æœºä¸Šæ˜“äºç‚¹å‡» */
        button, 
        .btn, 
        .page-btn, 
        .page-number,
        .nav-link {
            min-height: 44px;
            min-width: 44px;
        }
        
        .page-number {
            width: 36px;
            height: 36px;
            font-size: 14px;
        }
    }
    
    /* é˜²æ­¢åœ¨æ‰‹æœºä¸Šç¼©æ”¾æ—¶å‡ºç°é—®é¢˜ */
    html {
        -webkit-text-size-adjust: 100%;
        -moz-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
        text-size-adjust: 100%;
    }
    
    /* ç¡®ä¿æœç´¢æ¡†åœ¨æ‰‹æœºä¸Šä¸ä¼šå¤ªå° */
    #search-input {
        min-height: 44px;
    }
    
    /* ä¼˜åŒ–åˆ†é¡µæ§ä»¶åœ¨æ‰‹æœºä¸Šçš„æ˜¾ç¤º */
    .pagination {
        flex-wrap: wrap;
        gap: 8px;
    }
    
    .page-numbers {
        order: 3;
        width: 100%;
        justify-content: center;
        margin-top: 10px;
    }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f5f5f7;
            color: #1d1d1f;
            line-height: 1.5;
            padding-bottom: 120px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
        }
        
        /* é¡µé¢æ ·å¼ */
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        /* å¤´éƒ¨æ ·å¼ */
        .header {
            text-align: center;
            margin-bottom: 25px;
            padding-top: 10px;
        }
        
        .header h1 {
            font-size: 28px;
            font-weight: 700;
            color: #1d1d1f;
            margin-bottom: 8px;
        }
        
        .header p {
            color: #86868b;
            font-size: 16px;
        }
        
        /* ç­›é€‰å·¥å…·æ æ ·å¼ */
        .filter-toolbar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            background: white;
            padding: 15px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            align-items: center;
        }
        
        .search-container {
            position: relative;
            flex: 1;
            max-width: 400px;
        }
        
        #search-input {
            width: 100%;
            padding: 12px 20px 12px 45px;
            border: 1px solid #d2d2d7;
            border-radius: 12px;
            font-size: 16px;
            background-color: white;
            transition: all 0.2s ease;
        }
        
        #search-input:focus {
            outline: none;
            border-color: #007aff;
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
        }
        
        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #86868b;
            font-size: 18px;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            min-width: 120px;
        }
        
        .filter-label {
            font-size: 13px;
            color: #86868b;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .filter-select {
            padding: 10px 15px;
            border: 1px solid #d2d2d7;
            border-radius: 10px;
            font-size: 15px;
            background: white;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .filter-select:focus {
            outline: none;
            border-color: #007aff;
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
        }
        
        /* é‡ç½®æŒ‰é’® */
        .btn-secondary {
            background-color: #f2f2f7;
            color: #1d1d1f;
            padding: 10px 20px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 15px;
        }
        
        .btn-secondary:hover {
            background-color: #e5e5ea;
        }
        
        /* åº”ç”¨åˆ—è¡¨å®¹å™¨ */
        .apps-container {
            margin-bottom: 30px;
        }
        
        .app-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            padding: 5px;
        }
        
        /* åˆ—è¡¨è§†å›¾æ ·å¼ */
        .app-list {
            display: none;
            flex-direction: column;
            gap: 12px;
        }
        
        .app-list-item {
            background: white;
            border-radius: 16px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            gap: 15px;
            align-items: center;
            border: 1px solid transparent;
        }
        
        .app-list-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            border-color: #007aff;
        }
        
        .app-list-item .app-icon {
            width: 60px;
            height: 60px;
            border-radius: 14px;
            margin-bottom: 0;
        }
        
        .app-list-item .app-info {
            flex: 1;
            min-width: 0;
        }
        
        .app-list-item .app-name {
            font-size: 16px;
            margin-bottom: 5px;
            height: auto;
        }
        
        .app-list-item .app-meta {
            display: flex;
            gap: 10px;
            margin-bottom: 5px;
            font-size: 13px;
            color: #86868b;
        }
        
        /* åº”ç”¨å¡ç‰‡æ ·å¼ - æ¢å¤ç®€æ´å°å·§ */
        .app-card {
            background: white;
            border-radius: 16px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            height: 100%;
            border: 1px solid transparent;
        }
        
        .app-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            border-color: #007aff;
        }
        
        .app-icon {
            width: 70px;
            height: 70px;
            border-radius: 16px;
            object-fit: cover;
            margin-bottom: 12px;
            background-color: #f5f5f7;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
        }
        
        .app-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 6px;
            color: #1d1d1f;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            height: 36px;
        }
        
        .app-meta {
            color: #86868b;
            font-size: 12px;
            margin-top: auto;
            width: 100%;
        }
        
        /* åˆ†é¡µæ ·å¼ */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .page-btn {
            background: white;
            border: 1px solid #d2d2d7;
            border-radius: 8px;
            padding: 10px 20px;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .page-btn:hover:not(:disabled) {
            background-color: #f5f5f7;
            border-color: #86868b;
        }
        
        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .page-numbers {
            display: flex;
            gap: 5px;
        }
        
        .page-number {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.2s ease;
        }
        
        .page-number:hover:not(.active) {
            background-color: #f5f5f7;
        }
        
        .page-number.active {
            background-color: #007aff;
            color: white;
        }
        
        /* åº”ç”¨è¯¦æƒ…å¼¹çª— - ç¼©å°ç‰ˆ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .modal.active {
            display: flex;
            opacity: 1;
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            position: relative;
            padding: 25px;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        
        .modal.active .modal-content {
            transform: translateY(0);
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            cursor: pointer;
            color: #86868b;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .modal-close:hover {
            background-color: #f5f5f7;
        }
        
        /* è¯¦æƒ…å†…å®¹æ ·å¼ */
        .detail-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .detail-icon {
            width: 100px;
            height: 100px;
            border-radius: 20px;
            object-fit: cover;
            margin-bottom: 15px;
            background-color: #f5f5f7;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
        }
        
        .detail-title {
            font-size: 20px;
            font-weight: 700;
            color: #1d1d1f;
            margin-bottom: 5px;
        }
        
        .detail-subtitle {
            color: #86868b;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .detail-description {
            font-size: 15px;
            line-height: 1.5;
            color: #515154;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
        }
        
        /* è¯¦æƒ…æ•°æ®é¢æ¿ */
        .detail-panel {
            display: none;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .detail-panel.active {
            display: block;
        }
        
        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e5e5ea;
        }
        
        .detail-item:last-child {
            border-bottom: none;
        }
        
        .detail-label {
            color: #86868b;
            font-size: 14px;
        }
        
        .detail-value {
            color: #1d1d1f;
            font-size: 14px;
            font-weight: 500;
            text-align: right;
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .btn {
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: all 0.2s ease;
            text-align: center;
            display: inline-block;
            text-decoration: none;
        }
        
        .btn-primary {
            background-color: #007aff;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #0056cc;
        }
        
        .btn-outline {
            background: transparent;
            color: #007aff;
            border: 1px solid #007aff;
        }
        
        .btn-outline:hover {
            background-color: rgba(0, 122, 255, 0.1);
        }
        
        .btn-premium {
            background: linear-gradient(135deg, #ff9500, #ff5e3a);
            color: white;
        }
        
        .btn-premium:hover {
            background: linear-gradient(135deg, #e88500, #ff4a26);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 94, 58, 0.3);
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        /* ä»˜è´¹æ ‡è¯†æ ·å¼ */
        .premium-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ff9500, #ff5e3a);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 8px;
            vertical-align: middle;
        }
        
        .premium-price {
            color: #ff9500;
            font-weight: 600;
            font-size: 16px;
        }
        
        /* åº•éƒ¨å¯¼èˆªæ  */
        .footer-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid #d2d2d7;
            z-index: 100;
            padding: 10px 0;
        }
        
        .nav-list {
            display: flex;
            justify-content: space-around;
            list-style: none;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .nav-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #86868b;
            padding: 8px 12px;
            border-radius: 12px;
            transition: all 0.2s ease;
        }
        
        .nav-link.active {
            color: #007aff;
        }
        
        .nav-icon {
            font-size: 22px;
            margin-bottom: 4px;
        }
        
        .nav-link span:last-child {
            font-size: 12px;
            font-weight: 500;
        }
        
        .nav-link:hover {
            background-color: #f5f5f7;
        }
        
        /* æç¤ºæ¶ˆæ¯æ ·å¼ */
        #toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9998;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .toast {
            background: white;
            border-radius: 12px;
            padding: 15px 20px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            min-width: 250px;
            max-width: 350px;
            font-size: 15px;
            animation: slideIn 0.3s ease;
            border-left: 4px solid #007aff;
        }
        
        .toast.success {
            border-left-color: #34c759;
        }
        
        .toast.error {
            border-left-color: #ff3b30;
        }
        
        .toast.warning {
            border-left-color: #ff9500;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* ç©ºçŠ¶æ€æ ·å¼ */
        .empty-state {
            grid-column: 1 / -1;
            text-align: center;
            padding: 60px 20px;
            color: #86868b;
        }
        
        .empty-state p {
            font-size: 16px;
            margin-top: 15px;
        }
        
        /* æœç´¢ç»Ÿè®¡ */
        .search-stats {
            margin-bottom: 20px;
            color: #515154;
            font-size: 14px;
            text-align: center;
        }
        
        /* æ›´æ–°æ—¥æœŸ */
        .update-time {
            text-align: center;
            font-size: 12px;
            color: #86868b;
            margin-top: 8px;
        }
        
        /* æ–°å¢æ ·å¼ - ç™»å½•å’Œç®¡ç†é¡µé¢ */
        .login-section {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .login-section h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #1d1d1f;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 5px;
            color: #515154;
            font-size: 14px;
            font-weight: 500;
        }
        
        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #d2d2d7;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.2s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #007aff;
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
        }
        
        /* é”™è¯¯æ¶ˆæ¯æ ·å¼ */
        .error-message {
            color: #ff3b30;
            font-size: 14px;
            margin-bottom: 10px;
            padding: 8px;
            background-color: #ffe5e5;
            border-radius: 8px;
            display: none;
        }
        
        /* æ–°ç­›é€‰å™¨æ ·å¼ */
        .type-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            margin-left: 5px;
        }
        
        .type-ç»„åˆåŒ… {
            background: linear-gradient(135deg, #ff9500, #ff5e3a);
            color: white;
        }
        
        .type-ç§»æ¤oppo {
            background: linear-gradient(135deg, #34c759, #30b84c);
            color: white;
        }
        
        .type-ä»¿Apple {
            background: linear-gradient(135deg, #007aff, #0056cc);
            color: white;
        }
        
        .type-åŸåˆ› {
            background: linear-gradient(135deg, #5856d6, #af52de);
            color: white;
        }
        
        /* ç±»åˆ«æ ‡ç­¾æ ·å¼ */
        .tag-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            margin-right: 5px;
            margin-bottom: 5px;
        }
        
        .tag-æ•°å­—æ—¶æ˜¾ {
            background: linear-gradient(135deg, #007aff, #0056cc);
            color: white;
        }
        
        .tag-ç®€çº¦é£æ ¼ {
            background: linear-gradient(135deg, #34c759, #30b84c);
            color: white;
        }
        
        .tag-åŸè¡¨é£æ ¼ {
            background: linear-gradient(135deg, #5856d6, #af52de);
            color: white;
        }
        
        .tag-ç§‘å¹»é£æ ¼ {
            background: linear-gradient(135deg, #ff9500, #ff5e3a);
            color: white;
        }
        
        .tag-å…¨å®¶æ¡¶ {
            background: linear-gradient(135deg, #ff2d55, #ff3b30);
            color: white;
        }
        
        .tag-å®šåˆ¶ {
            background: linear-gradient(135deg, #5ac8fa, #34c759);
            color: white;
        }
        
        .tag-ç§»æ¤oppo {
            background: linear-gradient(135deg, #ffcc00, #ff9500);
            color: white;
        }
        
        .tag-ä»¿Apple {
            background: linear-gradient(135deg, #8e8e93, #1d1d1f);
            color: white;
        }
        
        .tag-åŸåˆ› {
            background: linear-gradient(135deg, #af52de, #5856d6);
            color: white;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .filter-toolbar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-container {
                max-width: 100%;
            }
            
            .filter-group {
                min-width: 100%;
            }
            
            .app-grid {
                grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
                gap: 12px;
            }
            
            .app-card {
                padding: 12px;
            }
            
            .app-icon {
                width: 60px;
                height: 60px;
            }
            
            .app-name {
                font-size: 13px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .container {
                padding: 10px;
            }
            
            .modal-content {
                width: 95%;
                padding: 20px;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .app-list-item {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
            
            .app-list-item .app-meta {
                flex-wrap: wrap;
                justify-content: center;
            }
        }
        
        @media (max-width: 480px) {
            .app-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .app-card {
                padding: 10px;
            }
            
            .app-icon {
                width: 50px;
                height: 50px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- é¦–é¡µ -->
        <div class="page active" id="home-page">
            <header class="header">
                <h1>ç¦¾èŠ’æ–°å±¿è¡¨ç›˜å•†åº—</h1>
                <p>å‘ç°ç²¾å½©è¡¨ç›˜ï¼Œä¸ªæ€§åŒ–ä½ çš„è®¾å¤‡</p>
            </header>

            <!-- ç­›é€‰å·¥å…·æ ï¼ˆåŒ…å«æœç´¢å’Œè§†å›¾åˆ‡æ¢ï¼‰ -->
            <div class="filter-toolbar">
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="æœç´¢è¡¨ç›˜...">
                    <span class="search-icon">ğŸ”</span>
                </div>
                
                <!-- ä¿®æ”¹ï¼šåˆå¹¶ä¸ºä¸€ä¸ªç±»åˆ«ç­›é€‰å™¨ -->
                <div class="filter-group">
                    <div class="filter-label">ç±»åˆ«ç­›é€‰</div>
                    <select class="filter-select" id="category-filter">
                        <option value="all">å…¨éƒ¨ç±»åˆ«</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <div class="filter-label">æ’åºæ–¹å¼</div>
                    <select class="filter-select" id="sort-by">
                        <option value="created_at">ä¸Šä¼ æ—¶é—´</option>
                        <option value="name">åç§°</option>
                        <option value="author">ä½œè€…</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <div class="filter-label">æ’åºæ–¹å‘</div>
                    <select class="filter-select" id="sort-order">
                        <option value="desc">é™åº</option>
                        <option value="asc">å‡åº</option>
                    </select>
                </div>
                
                <!-- ä¿®æ”¹ä¸ºä¸‹æ‹‰èœå•çš„è§†å›¾åˆ‡æ¢ -->
                <div class="filter-group">
                    <div class="filter-label">è§†å›¾åˆ‡æ¢</div>
                    <select class="filter-select" id="view-select">
                        <option value="grid">æ–¹æ ¼è§†å›¾</option>
                        <option value="list">åˆ—è¡¨è§†å›¾</option>
                    </select>
                </div>
                
                <button class="btn-secondary" id="reset-filters">
                    é‡ç½®
                </button>
            </div>

            <!-- æœç´¢ç»“æœç»Ÿè®¡ -->
            <div class="search-stats" id="search-stats">
                æ­£åœ¨åŠ è½½è¡¨ç›˜æ•°æ®...
            </div>

            <!-- åº”ç”¨åˆ—è¡¨å®¹å™¨ -->
            <div class="apps-container">
                <div class="app-grid" id="app-grid-view">
                    <!-- æ–¹æ ¼è§†å›¾å†…å®¹ -->
                </div>
                <div class="app-list" id="app-list-view">
                    <!-- åˆ—è¡¨è§†å›¾å†…å®¹ -->
                </div>
            </div>

            <!-- åˆ†é¡µæ§ä»¶ -->
            <div class="pagination" id="pagination">
                <button class="page-btn" id="prev-page">ä¸Šä¸€é¡µ</button>
                <div class="page-numbers" id="page-numbers"></div>
                <button class="page-btn" id="next-page">ä¸‹ä¸€é¡µ</button>
            </div>
        </div>
        
        <!-- ç¤¾åŒºé¡µé¢ -->
        <div class="page" id="community-page">
            <div style="text-align: center; padding: 30px 20px; background: linear-gradient(135deg, #007aff, #5856d6); border-radius: 20px; color: white; margin-bottom: 30px;">
                <div style="width: 80px; height: 80px; background: rgba(255, 255, 255, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px; margin: 0 auto 20px;">
                    ğŸ‘¥
                </div>
                <h3 style="font-size: 24px; margin-bottom: 10px;">ç¦¾èŠ’æ–°å±¿å·¥ä½œå®¤</h3>
                <p style="opacity: 0.9;">åŠ å…¥æˆ‘ä»¬ï¼Œè·å–æœ€æ–°è¡¨ç›˜èµ„æºå’ŒæŠ€æœ¯æ”¯æŒ</p>
            </div>
            
            <div style="margin-bottom: 30px;">
                <h3 style="font-size: 18px; margin-bottom: 15px; color: #1d1d1f;">ğŸ“¢ å…¬å‘Š</h3>
                <p style="color: #515154; line-height: 1.5;">æ¬¢è¿åŠ å…¥è¡¨ç›˜åˆ›ä½œè€…ç¤¾åŒºï¼åœ¨è¿™é‡Œä½ å¯ä»¥è·å–æœ€æ–°è¡¨ç›˜èµ„æºã€äº¤æµä½¿ç”¨å¿ƒå¾—ã€è·å–æŠ€æœ¯æ”¯æŒã€‚</p>
            </div>
            
            <div style="background: white; border-radius: 20px; padding: 20px; margin-bottom: 20px;">
                <h3 style="font-size: 18px; margin-bottom: 15px; color: #1d1d1f;">ğŸ‘¨â€ğŸ’» QQäº¤æµç¾¤</h3>
                <p style="color: #515154; margin-bottom: 15px;">åŠ å…¥ã€Blue OSã€‘å‘çƒ§å‹èšé›†åœ°ï¼Œè·å–æœ€æ–°èµ„æºå’Œå®æ—¶æ”¯æŒ</p>
                <button class="btn btn-primary" onclick="window.open('https://qm.qq.com/q/MkzRaG2YoM', '_blank')" style="width: 100%;">
                    åŠ å…¥QQç¾¤
                </button>
            </div>
            
            <div style="background: white; border-radius: 20px; padding: 20px;">
                <h3 style="font-size: 18px; margin-bottom: 15px; color: #1d1d1f;">ğŸ¤ å¦‚ä½•è´¡çŒ®</h3>
                <p style="color: #515154; line-height: 1.5;">æ¬¢è¿æ‰€æœ‰è¡¨ç›˜åˆ›ä½œè€…æäº¤ä½œå“ï¼æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è´¡çŒ®ï¼š</p>
                <ul style="color: #515154; padding-left: 20px; margin: 15px 0; line-height: 1.6;">
                    <li>åŠ å…¥QQç¾¤è”ç³»ç®¡ç†å‘˜æäº¤ä½œå“</li>
                    <li>é€šè¿‡é‚®ä»¶å‘é€è¡¨ç›˜æ–‡ä»¶å’Œç›¸å…³ä¿¡æ¯</li>
                </ul>
                <p style="color: #515154; line-height: 1.5;">æ‰€æœ‰æäº¤çš„è¡¨ç›˜éƒ½ä¼šç»è¿‡å®¡æ ¸ï¼Œå®¡æ ¸é€šè¿‡åä¼šåœ¨å•†åº—ä¸­å±•ç¤ºã€‚</p>
            </div>
            
            <!-- ç™»å½•åŒºåŸŸ -->
            <div class="login-section" id="login-section">
                <h3>ğŸ” ç®¡ç†å‘˜ç™»å½•</h3>
                <div class="form-group">
                    <label class="form-label">è´¦æˆ·</label>
                    <input type="text" id="login-username" class="form-input" placeholder="è¯·è¾“å…¥è´¦æˆ·">
                </div>
                <div class="form-group">
                    <label class="form-label">å¯†ç </label>
                    <input type="password" id="login-password" class="form-input" placeholder="è¯·è¾“å…¥å¯†ç ">
                </div>
                <div id="login-error" class="error-message"></div>
                <button class="btn btn-primary" onclick="handleLogin()" style="width: 100%;">ç™»å½•</button>
            </div>
            
            <!-- æ³¨æ„ï¼šç®¡ç†å‘˜é¢æ¿å·²åˆ é™¤ï¼Œç™»å½•åå°†è·³è½¬åˆ° admin.html -->
        </div>
    </div>

    <!-- åº•éƒ¨å¯¼èˆªæ  -->
    <nav class="footer-nav">
        <ul class="nav-list">
            <li class="nav-item">
                <a href="#home" class="nav-link active" data-page="home-page">
                    <span class="nav-icon">ğŸ—</span>
                    <span>é¦–é¡µ</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#community" class="nav-link" data-page="community-page">
                    <span class="nav-icon">ğŸ‘¥</span>
                    <span>ç¤¾åŒº</span>
                </a>
            </li>
        </ul>
        <!-- æœ€åæ›´æ–°æ—¶é—´ -->
        <div class="update-time">
            <p>æœ€åæ›´æ–°æ—¶é—´: <span id="current-date"></span></p>
        </div>
    </nav>

    <!-- åº”ç”¨è¯¦æƒ…å¼¹çª— -->
    <div class="modal" id="detail-modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- å…¨å±€æç¤ºå®¹å™¨ -->
    <div id="toast-container"></div>

    <script>
        // ç®¡ç†å‘˜è´¦å·æ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰
        const ADMIN_ACCOUNTS = [
            {
                username: "æ–°ç”Ÿ",
                password: "æ–°ç”Ÿ123456",
                name: "è¶…çº§ç®¡ç†å‘˜"
            },
            {
                username: "å°ç±³çŸ¿çŸ³",
                password: "xmks123456",
                name: "ä¸»ç®¡ç†å‘˜"
            },
            {
                username: "Viper3",
                password: "viper3123456",
                name: "è¡¨ç›˜ç®¡ç†å‘˜"
            },
            {
                username: "123456",
                password: "123456",
                name: "æµ‹è¯•è´¦å·"
            }
        ];

        // æ£€æµ‹ç§»åŠ¨è®¾å¤‡å¹¶è°ƒæ•´UI
        function adjustForMobile() {
            const isMobile = /iPhone|iPad|iPod|Android|webOS|BlackBerry|Windows Phone/i.test(navigator.userAgent);
            const isPortrait = window.innerHeight > window.innerWidth;
            
            if (isMobile && isPortrait) {
                // æ·»åŠ ç§»åŠ¨è®¾å¤‡ç‰¹å®šçš„ç±»
                document.body.classList.add('mobile-device', 'portrait-mode');
                
                // è°ƒæ•´å­—ä½“å¤§å°
                document.documentElement.style.fontSize = '14px';
                
                // å¦‚æœæ˜¯index.htmlï¼Œè°ƒæ•´æ¯é¡µæ˜¾ç¤ºæ•°é‡
                if (typeof itemsPerPage !== 'undefined') {
                    itemsPerPage = 12; // æ‰‹æœºç«–å±å‡å°‘æ¯é¡µæ˜¾ç¤ºæ•°é‡
                }
            }
        }

        // åœ¨ DOMContentLoaded äº‹ä»¶ä¸­è°ƒç”¨
        document.addEventListener('DOMContentLoaded', () => {
            adjustForMobile();
            // å…¶ä»–åˆå§‹åŒ–ä»£ç ...
        });
        
        // è®¾ç½®å½“å‰æ—¥æœŸ
        document.getElementById('current-date').textContent = new Date().toLocaleDateString('zh-CN', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
        
        // çŠ¶æ€ç®¡ç†
        let appsData = [];
        
        // ç­›é€‰å’Œæ’åºçŠ¶æ€
        let currentView = 'grid';
        let currentPage = 1;
        let itemsPerPage = 24;
        let filteredApps = [];
        let searchTimeout = null;
        
        // ç­›é€‰çŠ¶æ€
        let currentCategory = 'all';
        let sortBy = 'created_at';
        let sortOrder = 'desc';

        // é…ç½®
        const CONFIG = {
            defaultIcon: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIyMCIgZmlsbD0iI2Y1ZjVmNyIvPjxwYXRoIGQ9Ik00MCAzMUM0NS41MjI4IDMxIDUwIDM1LjQ3NzIgNTAgNDFDNTAgNDYuNTIyOCA0NS41MjI4IDUxIDQwIDUxQzM0LjQ3NzIgNTEgMzAgNDYuNTIyOCAzMCA0MUMzMCAzNS40NzcyIDM0LjQ3NzIgMzEgNDAgMzFaTTQ3IDM2LjVDNDcgMzUuNjcxNiA0Ni4zMjg4IDM1IDQ1LjUgMzVDNDQuNjcxMiAzNSA0NCAzNS42NzE2IDQ0IDM2LjVDNDQgMzcuMzI4NCA0NC42NzEyIDM4IDQ1LjUgMzhDNDYuMzI4OCAzOCA0NyAzNy4zMjg0IDQ3IDM2LjVaTTMzIDM2LjVDMzMgMzUuNjcxNiAzMi4zMjg4IDM1IDMxLjUgMzVDMzAuNjcxMiAzNSAzMCAzNS42NzE2IDMwIDM2LjVDMzAgMzcuMzI4NCAzMC42NzEyIDM4IDMxLjUgMzhDMzIuMzI4OCAzOCAzMyAzNy4zMjg0IDMzIDM2LjVaTTM1LjUgNTFDMzUuNSA1MS44Mjg0IDM2LjE3MTYgNTIuNSAzNyA1Mi41SDQzQzQzLjgyODQgNTIuNSA0NC41IDUxLjgyODQgNDQuNSA1MUM0NC41IDUwLjE3MTYgNDMuODI4NCA0OS41IDQzIDQ5LjVIMzdDMzYuMTcxNiA0OS41IDM1LjUgNTAuMTcxNiAzNS41IDUxWiIgZmlsbD0iI2I4YjhiOCIvPjwvc3ZnPg=='
        };

        // ç¤ºä¾‹è¡¨ç›˜æ•°æ® - ä¿®æ”¹ï¼šä½¿ç”¨tagså­—æ®µæ›¿ä»£categoryå’Œtype
        const exampleApps = [
            {
                id: "example_1",
                name: "ç®€çº¦æ•°å­—è¡¨ç›˜",
                package: "com.vivo.wf.watch001",
                version: "1.0.0",
                description: "ç®€çº¦é£æ ¼çš„æ•°å­—è¡¨ç›˜ï¼Œæ¸…æ™°æ˜¾ç¤ºæ—¶é—´æ—¥æœŸ",
                author: "ç¦¾èŠ’æ–°å±¿",
                icon: CONFIG.defaultIcon,
                tags: ["æ•°å­—æ—¶æ˜¾", "ç®€çº¦é£æ ¼", "åŸåˆ›"],
                device: "vivo/iQOO watch GT1/2",
                features: ["æ—¶é—´æ˜¾ç¤º", "æ—¥æœŸæ˜¾ç¤º", "ç”µé‡æ˜¾ç¤º"],
                premium: false,
                price: "å…è´¹",
                created_at: "2023-10-15 14:30:00"
            },
            {
                id: "example_2",
                name: "Appleé£æ ¼è¡¨ç›˜",
                package: "com.vivo.wf.watch002",
                version: "1.2.0",
                description: "ä»¿Appleé£æ ¼çš„ç²¾è‡´è¡¨ç›˜",
                author: "è®¾è®¡è€…A",
                icon: CONFIG.defaultIcon,
                tags: ["åŸè¡¨é£æ ¼", "ä»¿Apple", "å…¨å®¶æ¡¶"],
                device: "vivo/iQOO watch GT1/2",
                features: ["æ—¶é—´æ˜¾ç¤º", "æ—¥æœŸæ˜¾ç¤º", "æ­¥æ•°æ˜¾ç¤º", "å¤©æ°”æ˜¾ç¤º"],
                premium: true,
                price: "6å…ƒ",
                created_at: "2023-10-20 09:15:00"
            },
            {
                id: "example_3",
                name: "OPPOç§»æ¤è¡¨ç›˜",
                package: "com.vivo.wf.watch003",
                version: "1.1.0",
                description: "ä»OPPOæ‰‹è¡¨ç§»æ¤çš„ç»å…¸è¡¨ç›˜",
                author: "ç§»æ¤å¤§å¸ˆ",
                icon: CONFIG.defaultIcon,
                tags: ["ç§»æ¤oppo", "ç§‘å¹»é£æ ¼"],
                device: "vivo/iQOO watch GT1/2",
                features: ["æ—¶é—´æ˜¾ç¤º", "å¿ƒç‡æ˜¾ç¤º", "è¿åŠ¨æ•°æ®"],
                premium: false,
                price: "å…è´¹",
                created_at: "2023-10-25 16:45:00"
            },
            {
                id: "example_4",
                name: "å®šåˆ¶å•†åŠ¡è¡¨ç›˜",
                package: "com.vivo.wf.watch004",
                version: "2.0.0",
                description: "ä¸“ä¸ºå•†åŠ¡äººå£«å®šåˆ¶çš„è¡¨ç›˜",
                author: "å®šåˆ¶ä¸“å®¶",
                icon: CONFIG.defaultIcon,
                tags: ["å®šåˆ¶", "ç®€çº¦é£æ ¼"],
                device: "vivo/iQOO watch GT1/2",
                features: ["æ—¶é—´æ˜¾ç¤º", "æ—¥ç¨‹æé†’", "å•†åŠ¡é£æ ¼"],
                premium: true,
                price: "8å…ƒ",
                created_at: "2023-11-01 11:20:00"
            }
        ];

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async () => {
            initializeEventListeners();
            await initData();
        });

        // åˆå§‹åŒ–æ•°æ® - ä» localStorage è¯»å–æ•°æ®æˆ–ä½¿ç”¨ç¤ºä¾‹æ•°æ®
        async function initData() {
            try {
                document.getElementById('search-stats').textContent = 'æ­£åœ¨åŠ è½½è¡¨ç›˜æ•°æ®...';
                
                // å°è¯•ä» localStorage è¯»å–æ•°æ®
                const savedData = localStorage.getItem('watchface_data');
                if (savedData) {
                    try {
                        const parsedData = JSON.parse(savedData);
                        // æ£€æŸ¥æ•°æ®æ ¼å¼
                        if (Array.isArray(parsedData)) {
                            appsData = parsedData;
                        } else if (parsedData.watchfaces && Array.isArray(parsedData.watchfaces)) {
                            appsData = parsedData.watchfaces;
                        } else {
                            appsData = [...exampleApps];
                        }
                    } catch (e) {
                        console.warn('è§£ææœ¬åœ°å­˜å‚¨æ•°æ®å¤±è´¥ï¼Œä½¿ç”¨ç¤ºä¾‹æ•°æ®', e);
                        appsData = [...exampleApps];
                    }
                } else {
                    appsData = [...exampleApps];
                }
                
                // æ•°æ®è¿ç§»ï¼šå¦‚æœæ—§æ•°æ®æœ‰categoryæˆ–typeå­—æ®µï¼Œè½¬æ¢ä¸ºtagså­—æ®µ
                appsData = migrateOldData(appsData);
                
                filteredApps = [...appsData];
                
                // åˆå§‹åŒ–ç­›é€‰é€‰é¡¹
                initFilterOptions();
                
                updateSearchStats();
                setupSearchAndPagination();
                
                showToast('è¡¨ç›˜æ•°æ®åŠ è½½å®Œæˆ', 'success');
            } catch (error) {
                showToast('æ•°æ®åŠ è½½å¤±è´¥: ' + error.message, 'error');
                document.getElementById('search-stats').textContent = 'æ•°æ®åŠ è½½å¤±è´¥';
                console.error('åˆå§‹åŒ–é”™è¯¯:', error);
            }
        }
        
        // æ•°æ®è¿ç§»å‡½æ•°ï¼šå°†æ—§çš„categoryå’Œtypeå­—æ®µåˆå¹¶ä¸ºtagsæ•°ç»„
        function migrateOldData(data) {
            return data.map(item => {
                // å¦‚æœå·²ç»æœ‰tagså­—æ®µï¼Œç›´æ¥è¿”å›
                if (item.tags && Array.isArray(item.tags)) {
                    return item;
                }
                
                // å¦åˆ™ä»categoryå’Œtypeåˆ›å»ºtagsæ•°ç»„
                const tags = [];
                
                // æ·»åŠ categoryåˆ°tags
                if (item.category) {
                    if (Array.isArray(item.category)) {
                        tags.push(...item.category);
                    } else {
                        tags.push(item.category);
                    }
                }
                
                // æ·»åŠ typeåˆ°tags
                if (item.type) {
                    if (Array.isArray(item.type)) {
                        tags.push(...item.type);
                    } else {
                        tags.push(item.type);
                    }
                }
                
                // å»é‡
                const uniqueTags = [...new Set(tags.filter(Boolean))];
                
                // è¿”å›æ–°å¯¹è±¡
                return {
                    ...item,
                    tags: uniqueTags.length > 0 ? uniqueTags : ['åŸåˆ›'] // é»˜è®¤æ ‡ç­¾
                };
            });
        }

        // åˆå§‹åŒ–ç­›é€‰é€‰é¡¹
        function initFilterOptions() {
            // æ”¶é›†æ‰€æœ‰æ ‡ç­¾
            const allTags = new Set();
            
            appsData.forEach(app => {
                if (app.tags && Array.isArray(app.tags)) {
                    app.tags.forEach(tag => {
                        if (tag && tag.trim()) {
                            allTags.add(tag.trim());
                        }
                    });
                }
            });
            
            // å¡«å……åˆ†ç±»ç­›é€‰
            const categoryFilter = document.getElementById('category-filter');
            categoryFilter.innerHTML = '<option value="all">å…¨éƒ¨ç±»åˆ«</option>';
            
            // å°†æ ‡ç­¾æŒ‰å­—æ¯é¡ºåºæ’åº
            const sortedTags = Array.from(allTags).sort();
            
            sortedTags.forEach(tag => {
                const option = document.createElement('option');
                option.value = tag;
                option.textContent = tag;
                categoryFilter.appendChild(option);
            });
        }

        // æ›´æ–°æœç´¢ç»Ÿè®¡
        function updateSearchStats() {
            const searchStats = document.getElementById('search-stats');
            const searchInput = document.getElementById('search-input');
            const searchTerm = searchInput ? searchInput.value.trim() : '';
            
            let statsText = `æ‰¾åˆ° ${filteredApps.length} ä¸ªè¡¨ç›˜`;
            
            if (currentCategory !== 'all') {
                statsText += `ï¼Œç±»åˆ«ï¼š${currentCategory}`;
            }
            
            if (searchTerm) {
                statsText += `ï¼Œæœç´¢"${searchTerm}"`;
            }
            
            searchStats.textContent = statsText;
            
            if (filteredApps.length === 0) {
                searchStats.textContent = 'æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„è¡¨ç›˜ï¼Œè¯·å°è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶';
            }
        }

        // è®¾ç½®æœç´¢å’Œåˆ†é¡µåŠŸèƒ½
        function setupSearchAndPagination() {
            // æœç´¢åŠŸèƒ½
            const searchInput = document.getElementById('search-input');
            if (searchInput) {
                searchInput.addEventListener('input', (e) => {
                    const searchTerm = e.target.value.trim();
                    
                    if (searchTimeout) {
                        clearTimeout(searchTimeout);
                    }
                    
                    searchTimeout = setTimeout(() => {
                        applyFiltersAndSort();
                        currentPage = 1;
                        renderApps();
                        updateSearchStats();
                    }, 300);
                });
            }
            
            // ç­›é€‰å™¨å˜åŒ–
            document.getElementById('category-filter')?.addEventListener('change', (e) => {
                currentCategory = e.target.value;
                applyFiltersAndSort();
                currentPage = 1;
                renderApps();
                updateSearchStats();
            });
            
            document.getElementById('sort-by')?.addEventListener('change', (e) => {
                sortBy = e.target.value;
                applyFiltersAndSort();
                currentPage = 1;
                renderApps();
            });
            
            document.getElementById('sort-order')?.addEventListener('change', (e) => {
                sortOrder = e.target.value;
                applyFiltersAndSort();
                currentPage = 1;
                renderApps();
            });
            
            // è§†å›¾åˆ‡æ¢ - æ”¹ä¸ºä¸‹æ‹‰èœå•åˆ‡æ¢
            document.getElementById('view-select')?.addEventListener('change', function() {
                currentView = this.value;
                
                // æ˜¾ç¤ºå½“å‰è§†å›¾
                switchView(currentView);
                
                // æ˜¾ç¤ºåˆ‡æ¢æç¤º
                showToast(`å·²åˆ‡æ¢åˆ°${currentView === 'grid' ? 'æ–¹æ ¼' : 'åˆ—è¡¨'}è§†å›¾`, 'info');
            });
            
            // é‡ç½®ç­›é€‰æŒ‰é’®
            document.getElementById('reset-filters')?.addEventListener('click', () => {
                document.getElementById('category-filter').value = 'all';
                document.getElementById('sort-by').value = 'created_at';
                document.getElementById('sort-order').value = 'desc';
                document.getElementById('search-input').value = '';
                document.getElementById('view-select').value = 'grid';
                
                currentCategory = 'all';
                sortBy = 'created_at';
                sortOrder = 'desc';
                currentView = 'grid';
                
                applyFiltersAndSort();
                currentPage = 1;
                renderApps();
                updateSearchStats();
                switchView('grid');
                showToast('ç­›é€‰æ¡ä»¶å·²é‡ç½®', 'success');
            });
            
            // åˆ†é¡µæŒ‰é’®
            document.getElementById('prev-page')?.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderApps();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            });
            
            document.getElementById('next-page')?.addEventListener('click', () => {
                const totalPages = Math.ceil(filteredApps.length / itemsPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    renderApps();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            });
            
            // åˆå§‹åº”ç”¨ç­›é€‰å’Œæ’åº
            applyFiltersAndSort();
            renderApps();
        }

        // åº”ç”¨ç­›é€‰å’Œæ’åº
        function applyFiltersAndSort() {
            // å…ˆæ ¹æ®æœç´¢è¯ç­›é€‰
            const searchInput = document.getElementById('search-input');
            const searchTerm = searchInput ? searchInput.value.trim().toLowerCase() : '';
            
            filteredApps = appsData.filter(app => {
                // æœç´¢è¿‡æ»¤
                if (searchTerm) {
                    const searchFields = [
                        app.name,
                        app.author,
                        app.description
                    ].filter(Boolean).join(' ').toLowerCase();
                    
                    // æœç´¢æ ‡ç­¾
                    const tagSearch = app.tags ? app.tags.join(' ').toLowerCase() : '';
                    
                    if (!searchFields.includes(searchTerm) && !tagSearch.includes(searchTerm)) {
                        return false;
                    }
                }
                
                // æ ‡ç­¾è¿‡æ»¤
                if (currentCategory !== 'all') {
                    if (!app.tags || !Array.isArray(app.tags) || !app.tags.includes(currentCategory)) {
                        return false;
                    }
                }
                
                return true;
            });
            
            // æ’åº
            sortApps();
        }

        // æ’åºåº”ç”¨
        function sortApps() {
            filteredApps.sort((a, b) => {
                let aValue, bValue;
                
                switch (sortBy) {
                    case 'name':
                        aValue = a.name || '';
                        bValue = b.name || '';
                        break;
                    case 'author':
                        aValue = a.author || '';
                        bValue = b.author || '';
                        break;
                    case 'created_at':
                    default:
                        aValue = new Date(a.created_at || 0).getTime();
                        bValue = new Date(b.created_at || 0).getTime();
                        break;
                }
                
                if (sortOrder === 'asc') {
                    return aValue > bValue ? 1 : -1;
                } else {
                    return aValue < bValue ? 1 : -1;
                }
            });
        }

        // åˆ‡æ¢è§†å›¾
        function switchView(view) {
            currentView = view;
            
            // æ˜¾ç¤º/éšè—å¯¹åº”çš„è§†å›¾å®¹å™¨
            const gridView = document.getElementById('app-grid-view');
            const listView = document.getElementById('app-list-view');
            
            if (view === 'grid') {
                gridView.style.display = 'grid';
                listView.style.display = 'none';
            } else {
                gridView.style.display = 'none';
                listView.style.display = 'flex';
            }
            
            // é‡æ–°æ¸²æŸ“åº”ç”¨
            renderApps();
        }

        // æ¸²æŸ“åº”ç”¨å¡ç‰‡ - ä¿®æ”¹ï¼šæ–¹æ ¼è§†å›¾æ˜¾ç¤ºæ ‡ç­¾
       // æ¸²æŸ“åº”ç”¨å¡ç‰‡ - æ–¹æ ¼è§†å›¾ä¸æ˜¾ç¤ºæ ‡ç­¾
function renderAppCard(app, container = null) {
    if (!container) container = document.getElementById('app-grid-view');
    
    const card = document.createElement('div');
    card.className = 'app-card';
    card.dataset.id = app.id;
    
    const realSrc = app.icon || CONFIG.defaultIcon;
    
    card.innerHTML = `
        <img class="app-icon" src="${realSrc}" 
             alt="${app.name}" 
             onerror="this.src='${CONFIG.defaultIcon}'">
        <h3 class="app-name">${app.name}</h3>
        <div class="app-meta">
            <p>${app.author || 'åŒ¿åç”¨æˆ·'}</p>
        </div>
    `;
    
    card.addEventListener('click', () => showAppDetail(app));
    container.appendChild(card);
}
        
        // æ¸²æŸ“åˆ—è¡¨é¡¹ - åˆ—è¡¨è§†å›¾æ˜¾ç¤ºæ‰€æœ‰æ ‡ç­¾
        function renderAppListItem(app, container) {
            const item = document.createElement('div');
            item.className = 'app-list-item';
            item.dataset.id = app.id;
            
            const realSrc = app.icon || CONFIG.defaultIcon;
            
            // ç”Ÿæˆæ ‡ç­¾HTML
            const tagsHTML = app.tags && app.tags.length > 0 ? 
                `<div style="display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px;">
                    ${app.tags.map(tag => `<span class="tag-badge tag-${tag.replace(/[^a-zA-Z\u4e00-\u9fa5]/g, '')}">${tag}</span>`).join('')}
                </div>` : '';
            
            item.innerHTML = `
                <img class="app-icon" src="${realSrc}" 
                     alt="${app.name}" 
                     onerror="this.src='${CONFIG.defaultIcon}'">
                <div class="app-info">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                        <h3 class="app-name">${app.name}</h3>
                        ${app.premium ? `<span style="background: linear-gradient(135deg, #ff9500, #ff5e3a); color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: 600;">ä»˜è´¹</span>` : ''}
                    </div>
                    <div class="app-meta">
                        <span>ä½œè€…: ${app.author || 'åŒ¿åç”¨æˆ·'}</span>
                        <span>ç‰ˆæœ¬: ${app.version || '1.0.0'}</span>
                        ${app.device ? `<span style="color: #34c759;">ğŸ“± ${app.device}</span>` : ''}
                    </div>
                    ${tagsHTML}
                    <p style="color: #515154; font-size: 14px; margin-top: 8px; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
                        ${app.description || 'æš‚æ— æè¿°'}
                    </p>
                </div>
            `;
            
            item.addEventListener('click', () => showAppDetail(app));
            container.appendChild(item);
        }

        // æ˜¾ç¤ºåº”ç”¨è¯¦æƒ…
        async function showAppDetail(app) {
            const modal = document.getElementById('detail-modal');
            const modalBody = document.getElementById('modal-body');
            
            // æ ¼å¼åŒ–æ—¥æœŸ
            const formattedDate = app.created_at ? 
                new Date(app.created_at).toLocaleString('zh-CN', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                }) : 'æœªçŸ¥';
            
            // ç”Ÿæˆæ ‡ç­¾HTML
            const tagsHTML = app.tags && app.tags.length > 0 ? 
                `<div style="display: flex; flex-wrap: wrap; gap: 8px; margin: 10px 0;">
                    ${app.tags.map(tag => `<span class="tag-badge tag-${tag.replace(/[^a-zA-Z\u4e00-\u9fa5]/g, '')}">${tag}</span>`).join('')}
                </div>` : '';
            
            // æ ¹æ®æ˜¯å¦ä»˜è´¹æ˜¾ç¤ºä¸åŒçš„æŒ‰é’®
            let actionButton = '';
            if (app.premium) {
                // ä»˜è´¹è¡¨ç›˜ï¼šæ˜¾ç¤ºè´­ä¹°æŒ‰é’®
                actionButton = `
                    <button class="btn btn-premium" onclick="handlePurchase('${app.id}', '${app.name}')" style="flex: 1;">
                        <span>è´­ä¹°è¡¨ç›˜</span>
                        <span class="premium-price">${app.price || '6å…ƒ'}</span>
                    </button>
                `;
            } else if (app.link) {
                // å…è´¹è¡¨ç›˜ä¸”æœ‰é“¾æ¥ï¼šæ˜¾ç¤ºä¸‹è½½æŒ‰é’®
                actionButton = `
                    <a href="${app.link}" class="btn btn-primary" target="_blank" style="flex: 1;">
                        ä¸‹è½½è¡¨ç›˜
                    </a>
                `;
            }
            
            modalBody.innerHTML = `
                <div class="detail-header">
                    <img src="${app.icon || CONFIG.defaultIcon}" 
                         alt="${app.name}" class="detail-icon">
                    <h2 class="detail-title">${app.name}</h2>
                    <p class="detail-subtitle">ç‰ˆæœ¬: ${app.version || '1.0.0'} | ä½œè€…: ${app.author || 'åŒ¿åç”¨æˆ·'}</p>
                </div>
                
                <div class="detail-description">
                    ${app.description || 'æš‚æ— æè¿°'}
                </div>
                
                <div style="margin-bottom: 15px;">
                    <h4 style="color: #86868b; font-size: 14px; margin-bottom: 8px;">æ ‡ç­¾</h4>
                    ${tagsHTML}
                </div>
                
                <div class="detail-panel" id="detail-data-panel">
                    <div class="detail-item">
                        <span class="detail-label">ä»˜è´¹ç±»å‹</span>
                        <span class="detail-value">
                            ${app.premium ? `<span class="premium-badge">ä»˜è´¹è¡¨ç›˜</span>` : 'å…è´¹è¡¨ç›˜'}
                            ${app.price ? `<span class="premium-price">${app.price}</span>` : ''}
                        </span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">åŒ…å</span>
                        <span class="detail-value">${app.package || 'æœªæä¾›'}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">é€‚é…æœºå‹</span>
                        <span class="detail-value">${app.device || 'é€šç”¨æœºå‹'}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">æ›´æ–°æ—¶é—´</span>
                        <span class="detail-value">${formattedDate}</span>
                    </div>
                    ${app.features && app.features.length > 0 ? `
                    <div class="detail-item">
                        <span class="detail-label">åŠŸèƒ½ç‰¹è‰²</span>
                        <span class="detail-value">${app.features.join('ã€')}</span>
                    </div>
                    ` : ''}
                </div>
                
                <div class="btn-group">
                    ${actionButton}
                    <button class="btn btn-outline" onclick="toggleDetailPanel()" style="flex: 1;">
                        <span id="detail-toggle-text">æ˜¾ç¤ºè¯¦æƒ…</span>
                    </button>
                </div>
                
                <p style="text-align: center; margin-top: 15px; color: #86868b; font-size: 14px;">
                    æ›´å¤šè¡¨ç›˜èµ„æºè¯·è®¿é—®ç¤¾åŒºé¡µé¢
                </p>
            `;
            
            modal.classList.add('active');
            document.querySelector('.modal-close').onclick = closeModal;
        }
        
        // å¤„ç†è´­ä¹°æŒ‰é’®ç‚¹å‡»
        function handlePurchase(appId, appName) {
            showToast(`æ­£åœ¨å¤„ç†è´­ä¹° ${appName}ï¼Œè¯·ç¨å€™...`, 'info');
            
            // æ¨¡æ‹Ÿè´­ä¹°æµç¨‹
            setTimeout(() => {
                // è¿™é‡Œå¯ä»¥æ›¿æ¢ä¸ºå®é™…çš„è´­ä¹°é€»è¾‘
                // ä¾‹å¦‚è·³è½¬åˆ°æ”¯ä»˜é¡µé¢æˆ–æ˜¾ç¤ºæ”¯ä»˜äºŒç»´ç 
                const confirmPurchase = confirm(`æ‚¨ç¡®å®šè¦è´­ä¹° "${appName}" å—ï¼Ÿ\n\nä»·æ ¼ï¼š6å…ƒ\n\nè´­ä¹°åè¯·åŠ QQç¾¤è”ç³»ç®¡ç†å‘˜è·å–è¡¨ç›˜æ–‡ä»¶ã€‚`);
                
                if (confirmPurchase) {
                    showToast(`å·²æäº¤è´­ä¹° ${appName} çš„è¯·æ±‚ï¼Œè¯·åŠ QQç¾¤è”ç³»ç®¡ç†å‘˜`, 'success');
                    
                    // è¿™é‡Œå¯ä»¥æ·»åŠ å®é™…çš„æ”¯ä»˜å¤„ç†é€»è¾‘
                    // ä¾‹å¦‚ï¼šwindow.open('https://your-payment-url.com?app=' + appId);
                    
                    // å…³é—­å¼¹çª—
                    closeModal();
                }
            }, 500);
        }
        
        // åˆ‡æ¢è¯¦æƒ…é¢æ¿æ˜¾ç¤º/éšè—
        function toggleDetailPanel() {
            const panel = document.getElementById('detail-data-panel');
            const toggleText = document.getElementById('detail-toggle-text');
            
            if (panel.classList.contains('active')) {
                panel.classList.remove('active');
                toggleText.textContent = 'æ˜¾ç¤ºè¯¦æƒ…';
            } else {
                panel.classList.add('active');
                toggleText.textContent = 'éšè—è¯¦æƒ…';
            }
        }
        
        // æ˜¾ç¤ºç¤¾åŒºé¡µé¢
        function showCommunityPage() {
            closeModal();
            showPage('community-page');
        }
        
        // é¡µé¢åˆ‡æ¢
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            const page = document.getElementById(pageId);
            if (page) page.classList.add('active');
            
            document.querySelectorAll('.nav-link').forEach(link => {
                if (link.dataset.page === pageId) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
            
            if (pageId === 'home-page') {
                setupSearchAndPagination();
            }
        }

        // åº•éƒ¨å¯¼èˆªæ ç‚¹å‡»äº‹ä»¶
        function handleNavigation(e) {
            e.preventDefault();
            const pageId = this.dataset.page;
            showPage(pageId);
        }

        // å…³é—­å¼¹çª—å‡½æ•°
        function closeModal() {
            const modal = document.getElementById('detail-modal');
            modal.classList.remove('active');
            
            setTimeout(() => {
                document.getElementById('modal-body').innerHTML = '';
            }, 300);
        }

        // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            document.getElementById('toast-container').appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }
        
        // æ¸²æŸ“åº”ç”¨åˆ—è¡¨
        function renderApps() {
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const pageApps = filteredApps.slice(startIndex, endIndex);
            
            const gridContainer = document.getElementById('app-grid-view');
            const listContainer = document.getElementById('app-list-view');
            
            // æ¸…ç©ºå®¹å™¨
            gridContainer.innerHTML = '';
            listContainer.innerHTML = '';
            
            if (pageApps.length === 0) {
                const searchInput = document.getElementById('search-input');
                const searchTerm = searchInput ? searchInput.value.trim() : '';
                
                let message = 'æš‚æ— è¡¨ç›˜æ•°æ®';
                if (searchTerm || currentCategory !== 'all') {
                    message = 'æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„è¡¨ç›˜ï¼Œè¯·å°è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶';
                }
                
                gridContainer.innerHTML = `<div class="empty-state"><p>${message}</p></div>`;
                listContainer.innerHTML = `<div class="empty-state"><p>${message}</p></div>`;
                updatePagination();
                return;
            }
            
            // æ ¹æ®å½“å‰è§†å›¾æ¸²æŸ“
            pageApps.forEach(app => {
                if (currentView === 'grid') {
                    renderAppCard(app, gridContainer);
                } else {
                    renderAppListItem(app, listContainer);
                }
            });
            
            updatePagination();
        }

        // æ›´æ–°åˆ†é¡µæ§ä»¶
        function updatePagination() {
            const totalPages = Math.ceil(filteredApps.length / itemsPerPage);
            const pageNumbers = document.getElementById('page-numbers');
            const prevBtn = document.getElementById('prev-page');
            const nextBtn = document.getElementById('next-page');
            const pagination = document.getElementById('pagination');
            
            if (!pagination) return;
            
            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }
            
            pagination.style.display = 'flex';
            
            if (prevBtn) prevBtn.disabled = currentPage === 1;
            if (nextBtn) nextBtn.disabled = currentPage === totalPages;
            
            if (pageNumbers) {
                pageNumbers.innerHTML = '';
                
                let startPage = Math.max(1, currentPage - 3);
                let endPage = Math.min(totalPages, startPage + 6);
                
                if (endPage - startPage < 6) {
                    startPage = Math.max(1, endPage - 6);
                }
                
                if (startPage > 1) {
                    const firstPageBtn = document.createElement('div');
                    firstPageBtn.className = 'page-number';
                    firstPageBtn.textContent = '1';
                    firstPageBtn.addEventListener('click', () => {
                        currentPage = 1;
                        renderApps();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    });
                    pageNumbers.appendChild(firstPageBtn);
                    
                    if (startPage > 2) {
                        const ellipsis = document.createElement('div');
                        ellipsis.className = 'page-number';
                        ellipsis.textContent = '...';
                        ellipsis.style.cursor = 'default';
                        pageNumbers.appendChild(ellipsis);
                    }
                }
                
                for (let i = startPage; i <= endPage; i++) {
                    const pageBtn = document.createElement('div');
                    pageBtn.className = `page-number ${i === currentPage ? 'active' : ''}`;
                    pageBtn.textContent = i;
                    pageBtn.addEventListener('click', () => {
                        currentPage = i;
                        renderApps();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    });
                    pageNumbers.appendChild(pageBtn);
                }
                
                if (endPage < totalPages) {
                    if (endPage < totalPages - 1) {
                        const ellipsis = document.createElement('div');
                        ellipsis.className = 'page-number';
                        ellipsis.textContent = '...';
                        ellipsis.style.cursor = 'default';
                        pageNumbers.appendChild(ellipsis);
                    }
                    
                    const lastPageBtn = document.createElement('div');
                    lastPageBtn.className = 'page-number';
                    lastPageBtn.textContent = totalPages;
                    lastPageBtn.addEventListener('click', () => {
                        currentPage = totalPages;
                        renderApps();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    });
                    pageNumbers.appendChild(lastPageBtn);
                }
            }
        }

        // äº‹ä»¶ç›‘å¬å™¨åˆå§‹åŒ–
        function initializeEventListeners() {
            // å¯¼èˆªæ 
            document.querySelectorAll('.nav-link').forEach(link => {
                if (link.dataset.page) {
                    link.addEventListener('click', handleNavigation);
                }
            });
            
            // å¼¹çª—å…³é—­
            document.getElementById('detail-modal').addEventListener('click', (e) => {
                if (e.target === document.getElementById('detail-modal')) closeModal();
            });
            
            // å›è½¦é”®è§¦å‘æœç´¢
            document.getElementById('search-input')?.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    applyFiltersAndSort();
                    currentPage = 1;
                    renderApps();
                    updateSearchStats();
                }
            });
        }
        
        // ========== ç™»å½•åŠŸèƒ½ ==========
        
        // å¤„ç†ç™»å½• - éªŒè¯å¤šä¸ªç®¡ç†å‘˜è´¦å·
        function handleLogin() {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            const errorDiv = document.getElementById('login-error');
            
            // æ¸…é™¤é”™è¯¯æ¶ˆæ¯
            errorDiv.style.display = 'none';
            errorDiv.textContent = '';
            
            // éªŒè¯è¾“å…¥
            if (!username || !password) {
                errorDiv.textContent = 'è¯·è¾“å…¥è´¦æˆ·å’Œå¯†ç ';
                errorDiv.style.display = 'block';
                showToast('è¯·è¾“å…¥è´¦æˆ·å’Œå¯†ç ', 'warning');
                return;
            }
            
            // æŸ¥æ‰¾åŒ¹é…çš„ç®¡ç†å‘˜è´¦å·
            const matchedAccount = ADMIN_ACCOUNTS.find(account => 
                account.username === username && account.password === password
            );
            
            if (matchedAccount) {
                // ç™»å½•æˆåŠŸ
                showToast(`æ¬¢è¿ï¼Œ${matchedAccount.name}ï¼ç™»å½•æˆåŠŸ`, 'success');
                
                // å°†å½“å‰æ•°æ®ä¿å­˜åˆ° localStorageï¼Œä¾› admin.html ä½¿ç”¨
                const dataToSave = {
                    meta: {
                        version: "2.0",
                        save_date: new Date().toISOString(),
                        count: appsData.length,
                        note: "ä»é¦–é¡µå¯¼å‡º",
                        login_user: matchedAccount.name
                    },
                    watchfaces: appsData
                };
                localStorage.setItem('watchface_data', JSON.stringify(dataToSave));
                
                // è®¾ç½®ç™»å½•çŠ¶æ€æ ‡è®°
                localStorage.setItem('watchface_admin_logged_in', 'true');
                localStorage.setItem('watchface_admin_user', matchedAccount.name);
                
                // è·³è½¬åˆ°ç®¡ç†å‘˜é¡µé¢
                window.location.href = 'https://czx666d.github.io/rpk-store-watchface/admin.html';
            } else {
                // ç™»å½•å¤±è´¥
                errorDiv.textContent = 'è´¦æˆ·æˆ–å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡è¯•';
                errorDiv.style.display = 'block';
                showToast('ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥è´¦æˆ·å¯†ç ', 'error');
            }
        }
    </script>
</body>
</html>